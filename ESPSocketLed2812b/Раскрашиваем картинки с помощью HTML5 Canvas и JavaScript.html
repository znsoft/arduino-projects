<!DOCTYPE html>
<!-- saved from url=(0072)http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript -->
<html lang="ru"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Этот урок шаг за шагом покажет вам как создать простое веб-приложение для рисования с помощью HTML5 Canvas и JavaScript. Изучив его, вы узнаете как динамически рисовать на HTML5 Canvas, возможности и браузерную поддержку этой новой технологии (Canvas)">
<link href="http://websketches.ru/assets/templates/websketches/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">	
<link rel="stylesheet" href="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/bootstrap_min.css">
<link rel="stylesheet" href="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/main_min.css">
<link rel="stylesheet" href="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/media.css">
<title>Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript</title>
<script async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/kb.js.Без названия" type="text/javascript"></script><script async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/nsdk.js.Без названия" type="text/javascript"></script><script async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/s.js.Без названия" type="text/javascript"></script></head>
<body><script async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/collect_pluso.js.Без названия"></script>
<section class="_main_wrap">
		<aside class="ecran" id="ecran">
	<div class="ecran__loading"></div>
	<div class="video"></div>
</aside>
	<!-- Контент -->
	<div class="siteContent container" id="siteContent">
		<div class="row clearfix">
			<!-- левая колонка -->
			<aside class="left-column col-xs-12 col-sm-9 col-lg-10 col-lg-r-8">
				<div class="row clearfix">

					<aside class="descrArticle row">	
						<header class=" col-md-12 col-lg-8">
							<h1 class="descrArticle-h1">Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript</h1>	
							<div class="descrArticle-time">Опубликовано: 1 января  1970 г.</div>
						</header>	
						<address class="col-md-12 col-lg-4">
							<ul class="categ clearfix" id="categ"><li class="categ__icon"><div class="categ__iconLogo categ__iconLogo--grafika"></div><div class="categ__iconTip animation">графика</div></li><li class="categ__icon"><a href="http://websketches.ru/assets/files/blog/raskrshivaem_kartinki_html5_canvas_javascript/sample/raskrshivaem_kartinki_html5_canvas_js_sample_fin.htm" class="categ__iconLogo categ__iconLogo--sample" target="_blank"></a><div class="categ__iconTip animation">Пример</div></li></ul>
						</address>
					</aside>
					
					<article class="col-lg-12 article ">					
						<header class="article-intro">Этот урок шаг за шагом покажет вам как создать простое веб-приложение для рисования с помощью HTML5 Canvas и JavaScript. Изучив его, вы узнаете как динамически рисовать на HTML5 Canvas, возможности и браузерную поддержку этой новой технологии (Canvas)</header>
						<p>Каждый шаг включает в себя рабочую демо-версию. Если вам не терпится, вы можете посмотреть их прямо сейчас:</p>
<ul class="standardList">
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-simple">Простой рисунок на холсте</a></li>
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-colors">Рисование разноцветными линиями</a></li>                    
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-sizes">Рисование линиями разной толщины</a></li>
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-tools">Рисуем на холсте разными инструментами</a></li>
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-outline">Добавляем изображение на холст</a></li>
<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#demo-complete">Финальный результат</a></li>
</ul>
<h3>Опредилим наши цели.</h3>

<p>Давайте создадим веб-приложение, где пользователь сможет динамически рисовать на холсте HTML5 Canvas. Для чего это может пригодиться нашим пользователям? Книжка-раскраска - вот первое, что приходит на ум. Раскрашивать мы будем разноцветными карандашами и маркерами, а стирать неудачные мазки - ластиком. Давайте не будем слишком усложнять и предоставим пользователю 4 различных цвета на выбор. Точно так же, у нас будет 4 разные толщины линии. </p>

<h3>Подготовка HTML5 Canvas: разметка</h3>

<p>Добавим наш холст на веб-страницу с помощью HTML тега <a href="http://websketches.ru/html/canvas" target="_blank">canvas</a>.</p>
<pre><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">canvas</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"canvasInAPerfectWorld"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"490"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"220"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">canvas</span>&gt;</span></code></pre>

<p>Стоп-стоп-стоп. Вы уже забыли про IE8? А ведь он не поддерживает Canvas, поэтому заменим наш код другим:</p>
<pre><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"canvasDiv"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></code></pre>

<h3>Подготовка HTML5 Canvas: начинаем писать скрипт</h3>

<p>Чтобы подготовить наш холст мы должны написать следующее:</p>

<pre><code class=" hljs javascript">context = document.getElementById(<span class="hljs-string">'canvasInAPerfectWorld'</span>).getContext(<span class="hljs-string">"2d"</span>);</code></pre>

<p>Как я уже говорил,  IE8 не знает о существовании тега <code>canvas</code>, поэтому, если мы применим этот код, то получим сообщение об ошибке. Вместо этого мы создадим элемент холста с помощью JavaScript и добавим его в наш тег <a href="http://websketches.ru/html/div" target="_blank">div</a> с id <code>canvasDiv</code>.</p>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> canvasDiv = document.getElementById(<span class="hljs-string">'canvasDiv'</span>);
canvas = document.createElement(<span class="hljs-string">'canvas'</span>);
canvas.setAttribute(<span class="hljs-string">'width'</span>, canvasWidth);
canvas.setAttribute(<span class="hljs-string">'height'</span>, canvasHeight);
canvas.setAttribute(<span class="hljs-string">'id'</span>, <span class="hljs-string">'canvas'</span>);
canvasDiv.appendChild(canvas);
<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> G_vmlCanvasManager != <span class="hljs-string">'undefined'</span>) {
canvas = G_vmlCanvasManager.initElement(canvas);
}
context = canvas.getContext(<span class="hljs-string">"2d"</span>);</code></pre>

<p>Для совместимости c Internet Explorer (да-да, даже под 10-ю версию нужен костыль) нам также потребуется дополнительный скрипт: <a href="http://code.google.com/p/explorercanvas/" target="_blank" rel="nofollow" title="HTML5 Canvas для Internet Explorer">ExplorerCanvas</a>.</p>

<h3>Учимся рисовать на холсте</h3>

<p>Перед добавлением разных плюшек, давайте поучимся рисовать на нашем холсте. Нам потребуется отслеживать 4 события мыши и две функции: <code>addClick</code> для записи данных при нажатии на кнопку мыши и <code>redraw</code> для рисования на основе этих данных.</p>

<p>Первое событие - <code>mousedown</code>, возникающее когда кнопка мыши нажата над элементом. Когда пользователь нажимает на холсте мы записываем положение курсора мыши в массив с помощью функции <code>addClick</code>. Также мы присваиваем переменной <code>paint</code> значение <code>true</code> (скоро узнаете зачем). Наконец, мы обновляем холст с помощью функции <code>redraw</code>.</p>

<pre><code class=" hljs javascript">$(<span class="hljs-string">'#canvas'</span>).mousedown(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
<span class="hljs-keyword">var</span> mouseX = e.pageX - <span class="hljs-keyword">this</span>.offsetLeft;
<span class="hljs-keyword">var</span> mouseY = e.pageY - <span class="hljs-keyword">this</span>.offsetTop;

paint = <span class="hljs-literal">true</span>;
addClick(e.pageX - <span class="hljs-keyword">this</span>.offsetLeft, e.pageY - <span class="hljs-keyword">this</span>.offsetTop);
redraw();
});</code></pre>

<p>Каждое движение мыши над элементом генерирует событие <code>mousemove</code>. Каждый раз, когда пользователь надавливает маркером на холст, происходит рисование. Логическое значение переменной <code>paint</code> даст нам знать нажимает наш виртуальный маркер на холст или нет.. Если значение <code>paint</code> - <code>true</code>, тогда мы записываем координаты курсора относительно холста и перерисовываем изображение на холсте.</p>
<pre><code class=" hljs javascript">$(<span class="hljs-string">'#canvas'</span>).mousemove(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
<span class="hljs-keyword">if</span>(paint){
addClick(e.pageX - <span class="hljs-keyword">this</span>.offsetLeft, e.pageY - <span class="hljs-keyword">this</span>.offsetTop, <span class="hljs-literal">true</span>);
redraw();
}
});</code></pre>
<p>Другое важное событие - <code>mouseup</code>, возникает когда кнопка мыши отпущена над элементом. Если правая кнопка мыши отпущена, мы должны присвоить переменной <code>paint</code> значение <code>false</code> чтобы отменить рисование!</p>

<pre><code class=" hljs javascript">$(<span class="hljs-string">'#canvas'</span>).mouseup(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
paint = <span class="hljs-literal">false</span>;
});</code></pre>

<p>Следующее событие, которое мы должны обработать - <code>mouseleave</code>, возникающее когда указатель покидает область элемента. Если курсор выходит за пределы холста, мы должны присвоить переменной <code>paint</code> значение <code>false</code> чтобы отменить рисование!</p>

<pre><code class=" hljs javascript">$(<span class="hljs-string">'#canvas'</span>).mouseleave(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
paint = <span class="hljs-literal">false</span>;
});</code></pre>

<p>Напишем функцию <code>addClick</code>, которая сохраняет координаты мыши при клике в массив:</p>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> clickX = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> clickY = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> clickDrag = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> paint;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClick</span><span class="hljs-params">(x, y, dragging)</span>
{</span>
clickX.push(x);
clickY.push(y);
clickDrag.push(dragging);
}</code></pre>

<p>А вот функция<code>redraw</code>, с помощью которой и происходит волшебство. Каждый раз, когда функция вызывается холст очищается, и все перерисовывается. Было бы правильней перерисовывать только те участки, которые были изменены, но давайте не усложнять наш код).</p>

<p>We set a few stroke properties for the color, shape, and width. Then for every time we recorded as a marker on paper we are going to draw a line.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span>{</span>
context.clearRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, context.canvas.width, context.canvas.height); <span class="hljs-comment">// Очистим холст</span>

context.strokeStyle = <span class="hljs-string">"#df4b26"</span>;
context.lineJoin = <span class="hljs-string">"round"</span>;
context.lineWidth = <span class="hljs-number">5</span>;

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; clickX.length; i++) {		
context.beginPath();
<span class="hljs-keyword">if</span>(clickDrag[i] &amp;&amp; i){
context.moveTo(clickX[i-<span class="hljs-number">1</span>], clickY[i-<span class="hljs-number">1</span>]);
}<span class="hljs-keyword">else</span>{
context.moveTo(clickX[i]-<span class="hljs-number">1</span>, clickY[i]);
}
context.lineTo(clickX[i], clickY[i]);
context.closePath();
context.stroke();
}
}</code></pre>


<header id="demo-simple">Простой рисунок на холсте

<p>Давайте попробуем:</p>
<p class="demoToolList">Очистить холст: <button id="clearCanvasSimple" type="button">Очистить</button></p>
<div class="image">
<div id="canvasSimpleDiv"></div>
</div>

<h3>Добавлем цвета</h3>

<p>Давайте дадим возможность нашим пользователям рисовать разными цветами. Все, что нужно для этого сделать, - это добавить объявить несколько глобальных переменных и обновить нашу функцию перерисовки.</p>
<p>Объявляем четыре переменные для четырех разных цветов: <code>colorPurple</code>, <code>colorGreen</code>, <code>colorYellow</code>, <code>colorBrown</code> с соответствующими цветовыми шестнадцатеричными значения, переменную для хранения текущего цвета: <code>curColor</code> и массив, соответствующий выбранному цвету, при нажатии пользователем на холст <code>clickColor</code>.</p>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> colorPurple = <span class="hljs-string">"#cb3594"</span>;
<span class="hljs-keyword">var</span> colorGreen = <span class="hljs-string">"#659b41"</span>;
<span class="hljs-keyword">var</span> colorYellow = <span class="hljs-string">"#ffcf33"</span>;
<span class="hljs-keyword">var</span> colorBrown = <span class="hljs-string">"#986928"</span>;

<span class="hljs-keyword">var</span> curColor = colorPurple;
<span class="hljs-keyword">var</span> clickColor = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();</code></pre>

<p>В функцию <code>addClick</code> нужно внести изменения для записи выбранного цвета. Для этого нам достаточно дописать строку <code>clickColor.push(curColor);</code></p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClick</span><span class="hljs-params">(x, y, dragging)</span> {</span>
    clickX.push(x);
    clickY.push(y);
    clickDrag.push(dragging);
    clickColor.push(curColor);
}</code></pre>

<p>Так, теперь цвет может изменяться, но нам еще нужно обновить функцию <code>redraw</code>, так как она ссылается на цвет, который был активен, когда пользователь нажал на кнопку мыши. We move the line about <code>strokeStyle</code> into the for loop and assign it to color value in the new array <code>clickColor</code> that corresponds to the user's clickage.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span>{</span>
    context.lineJoin = <span class="hljs-string">"round"</span>;
    context.lineWidth = <span class="hljs-number">5</span>;

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; clickX.length; i++) {		
        context.beginPath();
        <span class="hljs-keyword">if</span>(clickDrag[i] &amp;&amp; i){
            contex.moveTo(clickX[i-<span class="hljs-number">1</span>], clickY[i-<span class="hljs-number">1</span>]);
        } <span class="hljs-keyword">else</span> {
        context.moveTo(clickX[i]-<span class="hljs-number">1</span>, clickY[i]);
    }
    context.lineTo(clickX[i], clickY[i]);
    context.closePath();
    context.strokeStyle = clickColor[i];
    context.stroke();
    }
}</code></pre>

<header id="demo-colors">Рисование разноцветными линиями. Результат

<p>Попробуйте порисовать с разной цветовой палитрой:</p>
<ul class="demoToolList">
<li>Очистить холст: <button id="clearCanvasSimpleColors" type="button">Очистить</button></li>
<li><span class="highlight">Выберите цвет: </span><button id="choosePurpleSimpleColors" type="button">Фиолетовый</button><button id="chooseGreenSimpleColors" type="button">Зеленый</button><button id="chooseYellowSimpleColors" type="button">Желтый</button><button id="chooseBrownSimpleColors" type="button">Коричневый</button></li>
</ul>
<div class="image">
<div id="canvasSimpleColorsDiv"></div>
</div>

<h3>Добавление рисованиня линиями разной толщины</h3>

<p>Так же, как мы добавили цвета, давайте добавим несколько размеров толщин линии на выбор: "тонкая", "обычная", "средняя", и "толстая". Для этого нам потребуется еще пара глобальных переменных: <code>clickSize</code> и <code>curSize</code>.</p>
<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> clickSize = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> curSize = <span class="hljs-string">"normal"</span>;</code></pre>

<p>Код функциии <code>addClick</code> должен быть обновлен для записи выбранного размера.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClick</span><span class="hljs-params">(x, y, dragging)</span> {</span>
    clickX.push(x);
    clickY.push(y);
    clickDrag.push(dragging);
    clickColor.push(curColor);
    clickSize.push(curSize);
}</code></pre>

<p>Обновим функцию <code>redraw</code> для обработки новых размеров.</p>
<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span>{</span>
context.lineJoin = <span class="hljs-string">"round"</span>;

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; clickX.length; i++) {		
context.beginPath();
<span class="hljs-keyword">if</span>(clickDrag[i] &amp;&amp; i){
    context.moveTo(clickX[i-<span class="hljs-number">1</span>], clickY[i-<span class="hljs-number">1</span>]);
} <span class="hljs-keyword">else</span> {
    context.moveTo(clickX[i]-<span class="hljs-number">1</span>, clickY[i]);
}
context.lineTo(clickX[i], clickY[i]);
context.closePath();
context.strokeStyle = clickColor[i];
context.lineWidth = radius;
context.stroke();
}
}</code></pre>

<header id="demo-sizes">Демонстрационный пример рисования линиями разной толщины.

<p>Попробуйте поизменять размер линии:</p>

<ul class="demoToolList">
<li>Очистить холст: <button id="clearCanvasSimpleSizes" type="button">Очистить</button></li>
<li>Выберите цвет: <button id="choosePurpleSimpleSizes" type="button">Фиолетовый</button><button id="chooseGreenSimpleSizes" type="button">Зеленый</button><button id="chooseYellowSimpleSizes" type="button">Желтый</button><button id="chooseBrownSimpleSizes" type="button">Коричневый</button></li>
<li><span class="highlight">Выберите толщину: </span><button id="chooseSmallSimpleSizes" type="button">Тонкая</button><button id="chooseNormalSimpleSizes" type="button">Обычная</button><button id="chooseLargeSimpleSizes" type="button">Средняя</button><button id="chooseHugeSimpleSizes" type="button">Толстая</button></li>	
</ul>
<div class="image">
<div id="canvasSimpleSizesDiv"></div>
</div>

<h3>Рисуем на холсте разными инструментами</h3>

<p>Карандаш, маркер, ластик. Три инструмента. Давайте сделаем их. Нам потребуются две глобальные переменные: <code>clickTool</code> и <code>curTool</code>.</p>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> clickTool = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> curTool = <span class="hljs-string">"crayon"</span>;</code></pre>

<p>Функция <code>addClick</code> должна быть обновлена, чтобы записать выбранный пользователем инструмент.</p>
<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClick</span><span class="hljs-params">(x, y, dragging)</span> {</span>
clickX.push(x);
clickY.push(y);
clickDrag.push(dragging);
<span class="hljs-keyword">if</span>(curTool == <span class="hljs-string">"eraser"</span>){
    clickColor.push(<span class="hljs-string">"white"</span>);
} <span class="hljs-keyword">else</span> {
    clickColor.push(curColor);
}
clickColor.push(curColor);
clickSize.push(curSize);
}</code></pre>

<p>Обновим функцию <code>redraw</code> для обработки новых инструментов.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span>{</span>
context.lineJoin = <span class="hljs-string">"round"</span>;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; clickX.length; i++) {		
  context.beginPath();
  <span class="hljs-keyword">if</span>(clickDrag[i] &amp;&amp; i) {
     context.moveTo(clickX[i-<span class="hljs-number">1</span>], clickY[i-<span class="hljs-number">1</span>]);
  } <span class="hljs-keyword">else</span> {
     context.moveTo(clickX[i]-<span class="hljs-number">1</span>, clickY[i]);
  }
  context.lineTo(clickX[i], clickY[i]);
  context.closePath();
  context.strokeStyle = clickColor[i];
  context.lineWidth = radius;
  context.stroke();
  }
  <span class="hljs-keyword">if</span>(curTool == <span class="hljs-string">"crayon"</span>) {
     context.globalAlpha = <span class="hljs-number">0.4</span>;
     context.drawImage(crayonTextureImage, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvasWidth, canvasHeight);
  }
  context.globalAlpha = <span class="hljs-number">1</span>;
}</code></pre>


<header id="demo-tools">Демонстрационный пример для рисования на холсте разными инструментами.

<p>Попробуйте порисовать разными инструментами:</p>
<ul class="demoToolList">
<li>Очистить холст: <button id="clearCanvasSimpleTools" type="button">Очистить</button></li>
<li>Выберите цвет: <button id="choosePurpleSimpleSizes" type="button">Фиолетовый</button><button id="chooseGreenSimpleSizes" type="button">Зеленый</button><button id="chooseYellowSimpleSizes" type="button">Желтый</button><button id="chooseBrownSimpleSizes" type="button">Коричневый</button></li>
<li>Выберите толщину: <button id="chooseSmallSimpleTools" type="button">Тонкая</button><button id="chooseNormalSimpleSizes" type="button">Обычная</button><button id="chooseLargeSimpleTools" type="button">Средняя</button><button id="chooseHugeSimpleTools" type="button">Толстая</button></li>
<li><span class="highlight">Выберите инструмент: </span><button id="chooseCrayonSimpleTools" type="button">Карандаш</button><button id="chooseMarkerSimpleTools" type="button">Маркер</button><button id="chooseEraserSimpleTools" type="button">Ластик</button></li>
</ul>
<div class="image">
<div id="canvasSimpleToolsDiv"></div>
</div>

<h3>Добавляем изображение на холст</h3>

<p>Раскраски содержат контуры объекта раскрашивания, чтобы можно было понять кто это: милый щенок или прыгающий кролик. Я выбрал утку с арбузом, вы можете взять что-то другое. Объявим переменную <code>outlineImage</code>.</p>
<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> outlineImage = <span class="hljs-keyword">new</span> Image();</code></pre>

<p>Загрузим изображение с контуром.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareCanvas</span><span class="hljs-params">()</span>{</span>
...
outlineImage.src = <span class="hljs-string">"images/watermelon-duck-outline.png"</span>;
}</code></pre>

<p>Update the <code>redraw</code> function to draw the outline image using the canvas context's <code>drawImage</code> method. Its parameters are the image object we loaded, the position we want to draw the image, and the dimensions of the image.</p>

<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span>{</span>
...

context.drawImage(outlineImage, drawingAreaX, drawingAreaY, drawingAreaWidth, drawingAreaHeight);
}</code></pre>

<header id="demo-outline">Пример изображении на холсте

<p>Дайте попробуем:</p>
<ul class="demoToolList">
<li>Очистить холст: <button id="clearCanvasSimpleOutline" type="button">Очистить</button></li>
<li>Выберите цвет: <button id="choosePurpleSimpleSizes" type="button">Фиолетовый</button><button id="chooseGreenSimpleSizes" type="button">Зеленый</button><button id="chooseYellowSimpleSizes" type="button">Желтый</button><button id="chooseBrownSimpleSizes" type="button">Коричневый</button></li>
<li>Выберите толщину: <button id="chooseSmallSimpleTools" type="button">Тонкая</button><button id="chooseNormalSimpleSizes" type="button">Обычная</button><button id="chooseLargeSimpleTools" type="button">Средняя</button><button id="chooseHugeSimpleTools" type="button">Толстая</button></li>
<li>Выберите инструмент: <button id="chooseCrayonSimpleTools" type="button">Карандаш</button><button id="chooseMarkerSimpleTools" type="button">Маркер</button><button id="chooseEraserSimpleTools" type="button">Ластик</button></li>
</ul>
<div class="image">
<div id="canvasSimpleOutlineDiv"></div>
</div>

<h3>Наводим лоск.</h3>

<p>Мы почти у цели! Эти последние детали являются необязательными: ограничение области рисования прямоугольника на холсте и использование остальной части холста для нашего графического пользовательского интерфейса (т.е. кнопок).</p>
<p>Let's mask the canvas so all drawing is within a the drawing area. Мы будем использовать методы <code>clip</code>, <code>save</code>и <code>restore</code>. Internet Explorer поддерживает эти методы начиная с 9й версии.</p>
<pre><code class=" hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redraw</span><span class="hljs-params">()</span> {</span>
...

context.save();
context.beginPath();
context.rect(drawingAreaX, drawingAreaY, drawingAreaWidth, drawingAreaHeight);
context.clip();

<span class="hljs-keyword">var</span> radius;
<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span>(; i &lt; clickX.length; i++) {
... 
}
context.restore();
...
} <span class="hljs-comment">// конец функции redraw</span></code></pre>

<p>Последнее усилие для перемещения всех этих кнопок на наш холст. Нам потребуется загрузка изображений и их отображение на основе нашего взаимодействия с пользователем. Я использовал стандартные методы JavaScript, поэтому я не буду утомлять вас подробностями (они входят в исходный код, если вам интересно).</p>

<header id="demo-complete">Финальный результат

<p>Теперь, когда мы закончили работать с HTML5 Canvas, можно немножко отдохнуть и пораскрашивать!</p>
<div class="image">
<div id="canvasDiv"><canvas width="490" height="220" id="canvas"></canvas></div>
</div>
<p>Вы можете <a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" target="_blank">скачать исходный код</a> чтобы не набивать его с нуля.</p>

      
<p>Теперь я покажу вам как создать простой инструмент заливки, использовуя JavaScript HTML5 Canvas. Мы реализовуем алгоритм закрашивания с помощью объекта HTML5 ImageData пиксельных манипуляции.</p>
<div class="image">
<div id="canvasDiv"></div>
</div>

<p>Мы узнаем как определить цвета пикселя на холсте HTML5, после чего шаг за шагом пойдем к реализации алгоритма заливки в JavaScript. Давайте начнем.</p>

<h3>The HTML5 Canvas Pixel</h3>

<p>Прежде чем мы начнем закрашивание фона, мы должны знать цвета нашего изображения. Для этого мы можем использовать метод ImageData, чтобы получить данные, которые в себя цвет точки в RGB формате (каждый цвет представлен целым значением в диапазоне 0 и 255) и прозрачность (значение альфа канала).</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/html5-canvas-imageData-example.png" alt=""></figure>

<p>Метод <code>getImageData</code> принимает четыре параметра: местоположение (X, Y) и размер (ширина, высота). Код JavaScript выглядит следующим образом:</p>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> imgData = context.getImageData(x, y, width, height);</code></pre>

<p>Так, для изображения с красными пикселями будут следующие данные <code>[255, 0, 0, 255]</code>.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/html5-canvas-imageData-red-pixel.png" alt="HTML5 imageData для красного пикселя"></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> imgData = context.getImageData(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);

<span class="hljs-comment">// imageData.data[0] = [255,0,0,255]</span></code></pre>

<p>imageData для четырехпиксельного изображения из красного, черного, белого и фиолетового цветов будет такой <code>[255,0,0,255, 0,0,0,255, 255,255,255,255, 203,53,148,255]</code>.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/html5-canvas-imageData-four-pixels.png" alt="HTML5 imageData для четырехпиксельного изображения из красного, черного, белого и фиолетового цветов"></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> imgDataArray = context.getImageData(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>);

<span class="hljs-comment">// imageData.data[0] = [255,0,0,255]      /* красный */</span>
<span class="hljs-comment">// imageData.data[1] = [0,0,0,255]        /* черный */</span>
<span class="hljs-comment">// imageData.data[2] = [255,255,255,255]  /* белый */</span>
<span class="hljs-comment">// imageData.data[3] = [203,53,148,255]   /* фиолетовый */</span></code></pre>

<p>Изображение, которое мы будем использовать в этом уроке, занимает 3 пикселя в ширину и 5 пикселей в высоту. Оно состоит из 15 точек, - 13 белых <code>[255,255,255,255]</code> и 2 черные <code>[0,0,0,255]</code>. Черные пиксели находятся в позиции 3 и 7 (см. рисунок ниже).</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example.png" alt=""></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> imageData = context.getImageData(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,canvasWidth,canvasHeight);

<span class="hljs-comment">// imageData.data = [</span>
<span class="hljs-comment">//   255,255,255,255, 255,255,255,255, 0,0,0,255, </span>
<span class="hljs-comment">//   255,255,255,255, 255,255,255,255, 255,255,255,255, </span>
<span class="hljs-comment">//   0,0,0,255,       255,255,255,255, 255,255,255,255, </span>
<span class="hljs-comment">//   255,255,255,255, 255,255,255,255, 255,255,255,255, </span>
<span class="hljs-comment">//   255,255,255,255, 255,255,255,255, 255,255,255,255]</span></code></pre>

<h3>Preview Flood Fill Animation</h3>

<p>Теперь, когда мы показали, как мы получим пиксельные данные из HTML5 Canvas с помощью метода ImageData мы реализуем алгоритм заливки с помощью JavaScript.</p>
<p>The following animation shows the steps of the flood fill algorithm on our example image:</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/flood-fill-example-small.gif" alt="Flood Fill Animation"></figure>

<h3>Заливка шаг за шагом</h3>
<p>Our objective is to fill of all similarly colored pixels connected to the starting pixel with a new fill color. В нашем примере начальная пиксель белый и цвет заливки фиолетовый</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/duck.png" alt=""></figure>

<p>First push the starting pixel's x and y coordinate into an array called <code>pixelStack</code>. Давайте начнем с пикселя в (1,3).</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-01.png" alt=""></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">var</span> pixelStack = ;</code></pre>

<p>Далее мы создаем цикл while, который будет сохранять последнее местоположение пикселя в <code>pixelStack</code>. In the case of our example, we pop the only coordinate (1,3) and assign those values to the variables <code>x</code> и <code>y</code> respectively.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-02.png" alt=""></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">while</span>(pixelStack.length) {
   newPos = pixelStack.pop();
   x = newPos[<span class="hljs-number">0</span>];
   y = newPos[<span class="hljs-number">1</span>];

   ...

}</code></pre>

<p>Мы путешествуем вверх пиксель за пикселем, пока мы не найдем границы изображения или пиксель, который не соответствует цвету заливки. Мы используем цикл while и функцию <code>matchStartColor</code> которая возвращает <code>true</code>, если цвет соответствует начальному цвету.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-03.png" alt=""></figure>

<pre><code class=" hljs javascript">pixelPos = (y*canvasWidth + x) * <span class="hljs-number">4</span>;
<span class="hljs-keyword">while</span>(y-- &gt;= <span class="hljs-number">0</span> &amp;&amp; matchStartColor(pixelPos)) {
   pixelPos -= canvasWidth * <span class="hljs-number">4</span>;
}
...
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchStartColor</span><span class="hljs-params">(pixelPos)</span> {</span>
   <span class="hljs-keyword">var</span> r = colorLayer.data[pixelPos];	
   <span class="hljs-keyword">var</span> g = colorLayer.data[pixelPos+<span class="hljs-number">1</span>];	
   <span class="hljs-keyword">var</span> b = colorLayer.data[pixelPos+<span class="hljs-number">2</span>];

   <span class="hljs-keyword">return</span> (r == startR &amp;&amp; g == startG &amp;&amp; b == startB);
}</code></pre>

<p>Пройдя 3 пикселя мы доходим до края изображения. Мы знаем это, потому <code>y</code> становится равным -1 и условие <code>y-- &gt;= 0</code> не выполняется. Так как мы зашли слишком далеко, мы увеличиваем <code>y</code> и обновляем переменную <code>pixelPos</code>. Вместо того, чтобы увеличивать pixelPos по одному, мы увеличиваем ее на ширину холста, которая равна 4. Мы инициализировать несколько новых переменных <code>reachLeft</code> и <code>reachRight</code> равных <code>false</code>. Они нам пригодятся для управления добавлением в наш стек пикселей. Скоро вы это увидите. 
	
</p><p>Мы создаем другой цикл while, на этот раз для путешествия вниз. Unlike how we went up blindly, the way down will involve adding new pixels to the stack and coloring pixels. Let's start by coloring our first pixel at (1,0) with the fill color purple.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-04.png" alt=""></figure>

<pre><code class=" hljs javascript">pixelPos += canvasWidth * <span class="hljs-number">4</span>;
++y;
reachLeft = <span class="hljs-literal">false</span>;
reachRight = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">while</span>(y++ <span class="xml"><span class="hljs-tag">&lt; <span class="hljs-attribute">canvasHeight-1</span> &amp;&amp; <span class="hljs-attribute">matchStartColor</span>(<span class="hljs-attribute">pixelPos</span>)) {
   <span class="hljs-attribute">colorPixel</span>(<span class="hljs-attribute">pixelPos</span>);

   <span class="hljs-attribute">...</span>

}</span></span></code></pre>

<p>After filling the pixel at (1,0) we must now determine if its neighbors to the left and right need filling too. Прежде всего, давайте исследуем пиксель слева.</p>

<p>Игнорируя любые пикселей с координатой <code>х</code> меньше нуля, мы проверяем, если соответствует ли цвет пикселя начальному цвету. В нашем примере пиксель слева белый, как наш стартовый пиксель, поэтому мы добавляем его в стек для последующей обработки. Мы также устанавливаем значение переменной <code>reachLeft</code> равной <code>true</code> This will prevent us adding pixels that will eventually handled by the downward march of the pixel we just added.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-05.png" alt=""></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">0</span>) {
   <span class="hljs-keyword">if</span>(matchStartColor(pixelPos - <span class="hljs-number">4</span>)) {
      <span class="hljs-keyword">if</span>(!reachLeft){
         pixelStack.push([x - <span class="hljs-number">1</span>, y]);
         reachLeft = <span class="hljs-literal">true</span>;
      }
   } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(reachLeft) {
      reachLeft = <span class="hljs-literal">false</span>;
   }
}</code></pre>

<p>Теперь переходим к пикселю справа. Его цвет черный, а черный не соответствует начальному цвету пикселя, поэтому мы не добавляем его в стек. Продолжаем двигаться вниз.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-06.png" alt=""></figure>

<pre><code class=" hljs javascript"><span class="hljs-keyword">if</span>(x &lt; canvasWidth-<span class="hljs-number">1</span>) {
   <span class="hljs-keyword">if</span>(matchStartColor(pixelPos + <span class="hljs-number">4</span>)) {
      <span class="hljs-keyword">if</span>(!reachRight) {
         pixelStack.push([x + <span class="hljs-number">1</span>, y]);
         reachRight = <span class="hljs-literal">true</span>;
      }
   } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(reachRight) {
      reachRight = <span class="hljs-literal">false</span>;
   }
}

pixelPos += canvasWidth * <span class="hljs-number">4</span>;</code></pre>

<p>Пиксель ниже имеет такой же цвет, как наш начальный пиксель, поэтому мы покрасим его в фиолетовый цвет.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-07.png" alt=""></figure>

<p>We look to the left of our new purple pixel and find it matches, but <code>reachLeft</code> is true so we don't add it to the stack.  The right pixel also matches but its variable <code>reachRight</code> is false so we do add it to the stack.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-08.png" alt=""></figure>

<p>Color the next pixel. Look to the left, no match this time so we change <code>reachLeft</code> to false. Looking to the right matches but <code>reachRight</code> is true so we do nothing.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-09.png" alt=""></figure>

<p>Color the next pixel. It happens to be the starting pixel but other than for reasons of nostalgia it's not significant.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-10.png" alt=""></figure>

<p>We look to the left and the color matches. Since we changed <code>reachLeft</code> to false last time, we add it to the stack. The right side matches too, but its boolean <code>reachRight</code> is true so we don't add it.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-11.png" alt=""></figure>

<p>Color the pixel below. The booleans <code>reachLeft</code> and <code>reachRight</code> to the right and left are true so we don't add them to the stack.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-12.png" alt=""></figure>

<p>We have reached the bottom of the image thus are done with the column of our starting pixel.</p>
<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-13.png" alt=""></figure>

<h3>Очистка стека</h3>

<p>The first column has been filled however they are still pixels in the stack which means there are more columns to fill. Pop the next pixel from the stack which is the pixel (0,3).</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-14.png" alt=""></figure>

<p>Мы продолжаем процесс до тех пор стек с пикселями, не станет пустым, а значит нечего будет закрашивать.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-example-steps.png"></figure>                    

<p>Eight pixels later we have filled all the matching pixels in our example image. Хотя наше тестовое изображение и было небольшым - процесс закрашивания области одинаков и для больших изображений.</p>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/paint-bucket-step-by-step.gif" alt="Анимация заливки области"></figure>

<h3>HTML5 JS Paint Bucket Code</h3>
<p>Несколько замечаний о коде:</p>
<ul>
<li>Internet Explorer 8 не поддерживает HTML5-манипуляции c пикселями даже при использовании <a href="http://code.google.com/p/explorercanvas/" rel="nofollow" target="_blank">ExplorerCanvas</a></li>
	<li>Firefox не поддерживают пиксельные манипуляции локально. Код будет работать на сервере, но, при отладке страницы локально, Firebug выдаст сообщение <em>"Ошибка безопасности Код: 1000" (Security error code: 1000)</em>.</li>
</ul>

<figure><img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/flood-fill-example-small.gif" alt="Flood Fill Animation"></figure>

<pre><code class=" hljs php">pixelStack = ;

<span class="hljs-keyword">while</span>(pixelStack.length) {
   <span class="hljs-keyword">var</span> newPos, x, y, pixelPos, reachLeft, reachRight;
   newPos = pixelStack.pop();
   x = newPos[<span class="hljs-number">0</span>];
   y = newPos[<span class="hljs-number">1</span>];

   pixelPos = (y*canvasWidth + x) * <span class="hljs-number">4</span>;
   <span class="hljs-keyword">while</span>(y-- &gt;= drawingBoundTop &amp;&amp; matchStartColor(pixelPos)) {
      pixelPos -= canvasWidth * <span class="hljs-number">4</span>;
   }
   pixelPos += canvasWidth * <span class="hljs-number">4</span>;
   ++y;
   reachLeft = <span class="hljs-keyword">false</span>;
   reachRight = <span class="hljs-keyword">false</span>;
   <span class="hljs-keyword">while</span>(y++ &lt; canvasHeight-<span class="hljs-number">1</span> &amp;&amp; matchStartColor(pixelPos)) {
      colorPixel(pixelPos);

      <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">0</span>) {
         <span class="hljs-keyword">if</span>(matchStartColor(pixelPos - <span class="hljs-number">4</span>)) {
            <span class="hljs-keyword">if</span>(!reachLeft) {
               pixelStack.push([x - <span class="hljs-number">1</span>, y]);
               reachLeft = <span class="hljs-keyword">true</span>;
            }
         } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(reachLeft) {
            reachLeft = <span class="hljs-keyword">false</span>;
         }
      }

      <span class="hljs-keyword">if</span>(x &lt; canvasWidth-<span class="hljs-number">1</span>) {
         <span class="hljs-keyword">if</span>(matchStartColor(pixelPos + <span class="hljs-number">4</span>)) {
            <span class="hljs-keyword">if</span>(!reachRight) {
               pixelStack.push([x + <span class="hljs-number">1</span>, y]);
               reachRight = <span class="hljs-keyword">true</span>;
            }
         } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(reachRight) {
            reachRight = <span class="hljs-keyword">false</span>;
         }
      }

   pixelPos += canvasWidth * <span class="hljs-number">4</span>;
   }
}
context.putImageData(colorLayer, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matchStartColor</span><span class="hljs-params">(pixelPos)</span> {</span>
   <span class="hljs-keyword">var</span> r = colorLayer.data[pixelPos];	
   <span class="hljs-keyword">var</span> g = colorLayer.data[pixelPos+<span class="hljs-number">1</span>];	
   <span class="hljs-keyword">var</span> b = colorLayer.data[pixelPos+<span class="hljs-number">2</span>];

   <span class="hljs-keyword">return</span> (r == startR &amp;&amp; g == startG &amp;&amp; b == startB);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">colorPixel</span><span class="hljs-params">(pixelPos)</span> {</span>
   colorLayer.data[pixelPos] = fillColorR;
   colorLayer.data[pixelPos+<span class="hljs-number">1</span>] = fillColorG;
   colorLayer.data[pixelPos+<span class="hljs-number">2</span>] = fillColorB;
   colorLayer.data[pixelPos+<span class="hljs-number">3</span>] = <span class="hljs-number">255</span>;
}
</code></pre>


<p>Вот мы и сделали все, что хотели. Попробуйте теперь порисовать в <a href="http://websketches.ru/assets/files/blog/raskrshivaem_kartinki_html5_canvas_javascript/sample/raskrshivaem_kartinki_html5_canvas_js_sample_fin.htm" target="_blank"><b>html5 Canvas</b></a>. Как видите, это было не сложно. Скачайте код для <a href="http://websketches.ru/assets/files/blog/raskrshivaem_kartinki_html5_canvas_javascript/sample/raskrshivaem_kartinki_html5_canvas_js_sample_fin.zip" target="_blank" title="Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript">раскрашивания картинки в Canvas</a> и порадуйте своих посетителей необычным контентом.</p>

<!--[if IE]><script type="text/javascript" src="sample/excanvas.js"></script><![endif]-->
<script type="text/javascript" async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/watch.js.Без названия"></script><script>
	
function sample_script() {
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.src = '/assets/files/blog/raskrshivaem_kartinki_html5_canvas_javascript/javascript.js';
    document.getElementsByTagName('body')[0].appendChild(s);
}	
	
if (window.addEventListener) {
    window.addEventListener('load', sample_script, false);
} else if (window.attachEvent) {
    window.attachEvent('onload', sample_script);
}
</script>
						
						<div data-user="481312358" class="pluso" data-background="transparent" data-options="big,square,line,horizontal,counter,theme=04" data-services="vkontakte,odnoklassniki,facebook,twitter,google"><div class="pluso-010010101001-04"><span class="pluso-wrap" style="background:transparent"><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" title="ВКонтакте" class="pluso-vkontakte"></a><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" title="Одноклассники" class="pluso-odnoklassniki"></a><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" title="Facebook" class="pluso-facebook"></a><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" title="Twitter" class="pluso-twitter"></a><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" title="Google+" class="pluso-google"></a><a href="http://pluso.ru/" class="pluso-more"></a></span><span class="pluso-counter"><b title="0">0</b></span></div></div>
					</header></header></header></header></header></header></article>
				</div>
			</aside>

			<!-- правая колонка -->
			<aside class="right-column col-xs-12 col-sm-3 col-lg-2 col-lg-r-4">
				
				<div class="sideBox">
					<header>Популярные статьи</header>
					<aside class="bestPages"><div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/2d-igra-na-unity-podrobnoye-rukovodstvo-p1" title="2D игра на Unity. Подробное руководство. Часть 1">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/2d_igra_na_unity_pr_preview.jpg" alt="2D игра на Unity. Подробное руководство. Часть 1"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">2D игра на Unity. Подробное руководство. Часть 1</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/adaptive_slider_for_css3" title="Адаптивный слайдер без Javascript на CSS3">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/adaptive_slider_for_css3.jpg" alt="Адаптивный слайдер без Javascript на CSS3"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">слайдер</li>
            </ul>
            <header class="bestPages-item-title">Адаптивный слайдер без Javascript на CSS3</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/rabota-s-unity-2d" title="Работа с Unity в 2D">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/rabota_s_unity_2d.jpg" alt="Работа с Unity в 2D"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">Работа с Unity в 2D</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/2d-igra-na-unity-podrobnoye-rukovodstvo-p3" title="2D игра на Unity. Подробное руководство. Часть 3">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/2d_igra_na_unity_pr_preview.jpg" alt="2D игра на Unity. Подробное руководство. Часть 3"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">2D игра на Unity. Подробное руководство. Часть 3</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/2d-igra-na-unity-podrobnoye-rukovodstvo-p4" title="2D игра на Unity. Подробное руководство. Часть 4">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/2d_igra_na_unity_pr_preview.jpg" alt="2D игра на Unity. Подробное руководство. Часть 4"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">2D игра на Unity. Подробное руководство. Часть 4</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/2d-igra-na-unity-podrobnoye-rukovodstvo-p5" title="2D игра на Unity. Подробное руководство. Часть 5">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/2d_igra_na_unity_pr_preview.jpg" alt="2D игра на Unity. Подробное руководство. Часть 5"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">2D игра на Unity. Подробное руководство. Часть 5</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/2d-igra-na-unity-podrobnoye-rukovodstvo-p6" title="2D игра на Unity. Подробное руководство. Часть 6">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/2d_igra_na_unity_pr_preview.jpg" alt="2D игра на Unity. Подробное руководство. Часть 6"></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">2D игра на Unity. Подробное руководство. Часть 6</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/uhebnik-po-novomu-gui-v-unity-2" title="Учебник по новому GUI в Unity. Часть 2.">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/new_giu_menu_preview.png" alt="Учебник по новому GUI в Unity. Часть 2."></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">Учебник по новому GUI в Unity. Часть 2.</header>
        </div>
    </a>
</div>
<div class="row bestPages-item clearfix">
    <a href="http://websketches.ru/blog/uhebnik-po-novomu-gui-v-unity-1" title="Учебник по новому GUI в Unity. Часть 1.">
        <div class="col-xs-3 col-sm-12 col-md-4 image"><img class="attachment-post-thumbnail wp-post-image" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/new_giu_menu_preview.png" alt="Учебник по новому GUI в Unity. Часть 1."></div>
        <div class="col-xs-9 col-sm-12 col-md-8 info">
            <ul class="bestPages-item-list clearfix">
                <li class="post-category">unity</li>
            </ul>
            <header class="bestPages-item-title">Учебник по новому GUI в Unity. Часть 1.</header>
        </div>
    </a>
</div></aside>
				</div>		
				
								
				
				
				
				
				<!--noindex-->

<!--/noindex-->
						
			</aside>
		</div>
	</div>
		
	<nav class="docMenu">
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" class=""></a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" class=""></a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript" class=""></a>
	<hr>
	<a href="http://websketches.ru/html" class="docMenu__a docMenu__a--html animate">
		<span class="docMenu__title docMenu__title--html">HTML</span>
	</a>
	<a href="http://websketches.ru/css" class="docMenu__a docMenu__a--css animate">
		<span class="docMenu__title docMenu__title--css">LESS</span>
	</a>
	<a href="http://websketches.ru/less" class="docMenu__a docMenu__a--less animate">
		<span class="docMenu__title docMenu__title--less">LESS</span>
	</a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript"></a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript"></a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript"></a>
	<a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript"></a>
</nav>


	<section class="siteHeader">
		<aside class="topheader">
	<div class="topheader-left">
		Ресурс работает с мая 2009 года
	</div>
	<div class="topheader-right">
		<a class="topheader-right-contacts" href="http://websketches.ru/contacts">Контакты</a>
	</div>
</aside>

<section id="header" class="header">
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-sm-7 col-md-8 col-lg-4 header-logo">
				<a href="http://websketches.ru/" class="header-logo-a">
					<img src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/logo.png" alt="Онлайн журнал для профессиональных веб-дизайнеров и программистов" class="header-logo-a-img">
				</a>
			</div>
			<div class="col-xs-12 col-sm-5 col-md-4 col-lg-3 col-lg-offset-5 search">
				<form class="formSearch" id="searchbox" action="http://websketches.ru/blog/search" method="post">
					<input name="controller" type="hidden" value="search">
					<input name="orderby" type="hidden" value="position">
					<input name="orderway" type="hidden" value="desc">
					<input name="search_query" class="formSearch-query" id="search_query_top" type="text" placeholder="поиск" value="">
					<button name="submit_search" class="button formSearch-btn" type="submit"></button>
				</form>
			</div>
			<div class="col-md-12 col-lg-5 header__reclama">
				<!--noindex-->
<!--/noindex-->
			</div>
		</div>
	</div>
</section>
		<form id="mainMenu" class="mainMenu container">
	<input type="checkbox" name="mommenu" class="hidden-md hidden-lg mainMenu__input" id="mommenu">
	<div class="mainMenu-btn hidden-md hidden-lg"> 
		<i></i> 
	</div>
	<label class="mainMenu__overlay" for="mommenu"></label>
	<ul class="mainMenu-nav visible-md visible-lg">
		<li class="level0 custom-item has-child">
			<a class="mainMenu__catItem hidden-sm hidden-xs" href="http://websketches.ru/blog/">Блог</a>
			<div class="wrap_dropdown fullwidth">
				<div class="row">
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Эффекты</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Анимация</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Параллакс</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Предоадер</a></li>
						</ul>
					</div>                                                            
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Формы</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Кнопки</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Радиобаттоны</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Формы</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Чекбоксы</a></li>
						</ul>
					</div>
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Контент</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Аккордеон</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Галерея</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Графика</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Подсказки</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Попап</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Слайдер</a></li>
						</ul>
					</div>
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Gamedev.</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Браузерные игры</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Unity</a></li>
						</ul>
					</div>
					
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Навигация</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">Меню</a></li>
						</ul>
					</div>
					<div class="col-md-12 col-lg-2">
						<h6 class="mainMenu__title">Прочее</h6><span class="mainMenu__accor hidden-lg fa"></span>
						<ul class="menu">
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">CSS</a></li>
							<li><a href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#">jquery/javascript</a></li>
						</ul>
					</div>
				</div>
			</div>
		</li>
		<li class="level0 cat-item">
			<a class="mainMenu__catItem hidden-sm hidden-xs" href="http://websketches.ru/plugins/">Плагины</a>
		</li>
		<li class="level0 cat-item has-child">
			<header class="mainMenu__catItem title visible-md visible-lg">Инструменты <span class="mainMenu__accor hidden-lg fa"></span></header>
			<div class="wrap_submenu">
				<ul class="level0 menu">
					<li class="level1">
						<a class="menu-title-lv1" href="http://websketches.ru/bonus/base64-conventer">Base64 конвертер изображений</a>
					</li>
				</ul>
			</div>
		</li>
	</ul>
</form>
	</section>

</section>

<div class="btn-top">
	<a id="sns-totop" style="display: block;" href="http://websketches.ru/blog/raskrshivaem-kartinki-html5-canvas-javascript#"><i class="fa fa-angle-up"></i></a>
</div>
	

	<footer class="footer-copyr">
	<div class="footer-copyr__year">© 2009-2016 WebSketches.ru</div>
</footer>
	<script src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/dragscroll.js.Без названия"></script>
	<script src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/highlight.js.Без названия"></script>
	<script src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/script.js.Без названия"></script>
	<script src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/tree.js.Без названия"></script>
	<script type="text/javascript">(function() {
  if (window.pluso)if (typeof window.pluso.start == "function") return;
  if (window.ifpluso==undefined) { window.ifpluso = 1;
    var d = document, s = d.createElement('script'), g = 'getElementsByTagName';
    s.type = 'text/javascript'; s.charset='UTF-8'; s.async = true;
    s.src = ('https:' == window.location.protocol ? 'https' : 'http')  + '://share.pluso.ru/pluso-like.js';
    var h=d[g]('body')[0];
    h.appendChild(s);
  }})();</script><script type="text/javascript" charset="UTF-8" async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/pluso-like.js.Без названия"></script>
	<!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter34766890 = new Ya.Metrika({id:34766890, webvisor:true, clickmap:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript>&lt;div&gt;&lt;img src="//mc.yandex.ru/watch/34766890" style="position:absolute; left:-9999px;" alt="" /&gt;&lt;/div&gt;</noscript><!-- /Yandex.Metrika counter -->
<script type="text/javascript" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/javascript.js.Без названия"></script><style type="text/css">.pluso{position:relative;z-index:1;display:inline-block;padding:0;-webkit-border-radius:22px;-moz-border-radius:22px;border-radius:22px;background:transparent;text-align:left;font-size:0;line-height:0;*display:inline;*zoom:1;}
.pluso span{float:none;}
.pluso-010010101001-04 a:active{ opacity:.6; }
.pluso-010010101001-04 .pluso-wrap a{display:inline-block;vertical-align:inherit;margin:5px 0 0 5px;padding:0;width:40px;height:40px;background:url(http://share.pluso.ru/img/pluso-like/round/big/04.png) 0 0 transparent no-repeat;}
.pluso-wrap{margin:0px !important;}
.pluso-010010101001-04 .pluso-wrap{position:relative;z-index:1;display:inline-block;padding:0 5px 5px 0;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;background:transparent;text-align:left;font-size:0;line-height:0;*display:inline;*zoom:1;}
.pluso-010010101001-04 a.pluso-more{width:40px;height:40px;background:url(http://share.pluso.ru/img/plus.png) 0 -60px no-repeat!important;position:relative;}
.pluso-010010101001-04 a.pluso-more{margin-right:-22px;*left:5px;}
.pluso-010010101001-04 .pluso-counter b{position:relative;padding:8px 12px;-webkit-border-radius: 22px;-moz-border-radius: 22px;border-radius: 122px;background:#eaeaeb;box-shadow:0 0 3px rgba(0,0,0,.3);color:#707070;white-space:nowrap;font:16px/40px Tahoma, Geneva, sans-serif!important;}
.pluso-010010101001-04 .pluso-counter{position:relative;padding-right:28px;}
.pluso-010010101001-04 .pluso-counter b{top:-14px;left:28px;}
.pluso-010010101001-04 .pluso-counter b:after{position: absolute;top: 13px;left: -8px;z-index: 0;display: block;width: 0;border-width: 5px 9px 5px 0;border-style: solid;border-color: transparent #eaeaeb;content: '';}
.pluso-010010101001-04 br{ display:none; }
.pluso-box{position:absolute;border:4px solid #eaebea;width:310px;height:225px;overflow:hidden;z-index: 777;background:#f2f2f2;font:normal normal 12px/25px Tahoma, Geneva, sans-serif;box-shadow:0 4px 10px rgba(0, 0, 0, 0.4);text-align:left;-webkit-border-radius:14px;-moz-border-radius:14px;border-radius:14px;}
.pluso-box a b{width:20px;height:20px;position:absolute;left:0;top:2px;}
.pluso-box a:visited,.pluso-box a:hover,.pluso-box a{font:normal normal 12px/25px Tahoma, Geneva, sans-serif;color:#7f7f7f;text-decoration:none;white-space:nowrap;padding:0 0 0 25px;margin:0 0 0 5px;border:0;position:relative;width:115px;float:left;}
.pluso-box .pluso-list{background:#ffffff;border-radius:14px;width:100%;height:200px;overflow:auto;position:absolute;left:0;top:25px;}
.pluso-box a.pluso-logo{background:url(http://share.pluso.ru/img/pluso-like/logo-mini.png) 0 5px no-repeat;width:66px;height:19px;border:0;text-indent:-600em;padding:0 0 0 12px;margin:0 0 0 9px;}
.pluso-box a.pluso-go{color:#4c4c4c;text-decoration:underline;padding-left:0;}
.pluso-box a.pluso-close,.pluso-box a.pluso-close:hover,.pluso-box a.pluso-close:visited{float:right;width:20px;text-align:center;font-size:12px;line-height:20px;width:20px;margin:1px 1px 0 0;padding:0;font-weight:bold;color:#4c4c4c;text-decoration:none;background:#ffffff;border-radius:15px;border:1px solid #eaebea;}
.pluso-box a.pluso-close:hover{background:#7f7f7f;color:#ffffff;border-color:transparent}
.pluso-tip{cursor:pointer;position:absolute;padding:10px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;white-space:nowrap;font:bold 14px/12px Tahoma, Geneva, sans-serif!important;color:#fff;background:#f78d1d;background:-webkit-gradient(linear, left top, left bottom, from(#7ed263), to(#3d9530));background:-webkit-linear-gradient(top,#7ed263,#3d9530);background:-moz-linear-gradient(top,#7ed263,#3d9530);background:-ms-linear-gradient(top,#7ed263,#3d9530);background:-o-linear-gradient(top,#7ed263,#3d9530);background:linear-gradient(top,#7ed263,#3d9530);filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=#7ed263, endColorstr=#3d9530);box-shadow:0 0 5px rgba(0,0,0,.5), inset 0 0 0px 1px rgba(0,0,0,.3)}
.pluso-tip:after{position:absolute;z-index:0;display:block;width:0;height:0;border-style: solid;content:''}
.pluso-tip.pluso-left-arrow:after{top:40%;right:-6px;border-color:transparent #447b36;border-width:6px 0px 6px 6px}
.pluso-tip.pluso-top-arrow:after{bottom:-6px;border-color:#27601f transparent;border-width:6px 6px 0px 6px}
.pluso-tip.pluso-bottom-arrow:after{top:-6px;border-color:#447b36 transparent;border-width:0px 6px 6px 6px}
@keyframes pluso-market-animate{0% { opacity:1 } 50%{ opacity:.3} 100% { opacity:1}}
@-webkit-keyframes pluso-market-animate{0% { opacity:1 } 50%{ opacity:.3} 100% { opacity:1}}
.pluso-overlay-background{height:100%;width:100%;position:fixed;left:0;top:0;z-index:999999999;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";padding:0;margin:0;}
.pluso-overlay-box{width:910px;margin: 50px auto 0;overflow:hidden;height:85%;background-color: #f5f5f5;border:1px solid #c4c4c4;padding:0!important;text-align:left;box-shadow:0 4px 12px rgba(0, 0, 0, 0.4), 0 1px 0 rgba(255, 255, 255, 0.5) inset;border-radius:10px;}
a.pluso-overlay-close,a.pluso-overlay-close:hover,a.pluso-overlay-close:visited{position:absolute;left:50%;margin:0 0 0 442px;top:38px;width:26px;height:26px;text-align:center;font:normal 20px/22px Arial;padding:0;color:#878787;text-decoration:none;background:#ffffff;border-radius:26px;border:2px solid #c4c4c4;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}
a.pluso-overlay-close:hover{background:#7f7f7f;color:#ffffff;border-color:transparent}
.pluso-overlay-box div{margin:20px 0 0 0;padding:0 0 12px 0;border-bottom:1px solid #c4c4c4;}
.pluso-overlay-box ul{list-style:none;margin:10px 0 10px 0px;padding:0;height:85%;overflow:auto;}
.pluso-overlay-box li{width:210px;height:260px;background:#ffffff;border-radius:10px;border:none;float:left;padding:0;margin:0 0px 10px 10px;}
.pluso-overlay-box li a{display:block;text-decoration:none;margin:0;padding:0;height:100%;overflow:hidden;position:relative;}
.pluso-overlay-box li a span, .pluso-overlay-box li a:hover span{position: relative;width: 190px;height:150px;border:1px solid #c4c4c4;overflow:hidden;margin:10px auto 5px auto;padding:0;text-align:center;display:block;}
.pluso-overlay-box li a:hover span{box-shadow:0 0 5px #c4c4c4;-webkit-box-shadow:0 0 5px #c4c4c4;border:1px solid #c4c4c4}
.pluso-overlay-box li a em{font:normal bold 15px/20px Arial;float:left;color:#e86340;padding:0px 0 0 10px;margin:0;}
.pluso-overlay-box li a em u{font:normal normal 12px/12px Arial;text-decoration:none;display:block;color:#eb6338;padding:0;margin:0;}
.pluso-overlay-box li a strong{font:normal 11px/14px Arial;display:block;padding:0 10px;color:#454545;position:relative;bottom:auto;height:42px;width:180px;overflow:hidden;margin:0 0 5px 0;border:0;}
.pluso-overlay-box li a:hover strong{height:42px;overflow:auto;padding:0 10px;border:0;}
.pluso-overlay-box li a b, .pluso-overlay-box li a b:hover, .pluso-overlay-box li a b:active{font:bold normal 15px/18px Arial, sans-serif;color: #ffffff;padding-top: 7px;padding-right: 12px;padding-bottom: 7px;padding-left: 12px;text-decoration: none;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;-webkit-box-shadow: inset 0px -1px 2px rgba(255,255,255,.5);-moz-box-shadow: inset 0px -1px 2px rgba(255,255,255,.5);box-shadow: inset 0px -1px 2px rgba(255,255,255,.5);text-shadow: 0px 1px 2px #3d8a33;border:solid #4bb543 1px;background:-webkit-gradient(linear, 0 0, 0 100%, from(#95e488), to(#20a517));background: -moz-linear-gradient(top, #95e488, #20a517);background: -o-linear-gradient(top, #95e488, #20a517);-ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#95e488, endColorStr=#20a517);filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#95e488, endColorStr=#20a517);display:inline-block;float:right;bottom:auto;right:10px;position:relative;}
.pluso-overlay-box li a b:hover{background:-webkit-gradient(linear, 0 0, 0 100%, from(#b1f4a3), to(#27c21c));background: -moz-linear-gradient(top, #b1f4a3, #27c21c);background:-o-linear-gradient(top, #b1f4a3, #27c21c);-ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#b1f4a3, endColorStr=#27c21c);filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#b1f4a3, endColorStr=#27c21c);}
.pluso-overlay-box li a b:active{background:-webkit-gradient(linear, 0 0, 0 100%, from(#20a517), to(#95e488));background: -moz-linear-gradient(top, #20a517, #95e488);background:-o-linear-gradient(top, #20a517, #95e488);-ms-filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#20a517, endColorStr=#95e488);filter: progid:DXImageTransform.Microsoft.gradient(startColorStr=#20a517, endColorStr=#95e488);}
.pluso-010010101001-04 .pluso-wrap a{ background-image:url(http://share.pluso.ru/img/pluso-like/square/big/04.png) }.pluso-010010101001-04 .pluso-wrap a.pluso-market-cart, .pluso-010010101001-04 .pluso-wrap a.pluso-market-cart-animate{ background:url(http://share.pluso.ru/img/pluso-like/square/big/market.png) -0px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-market-cart-animate{animation: pluso-market-animate 3s linear infinite alternate;-webkit-animation: pluso-market-animate 3s linear infinite alternate;}.pluso-010010101001-04 .pluso-wrap a.pluso-market-dollar, .pluso-010010101001-04 .pluso-wrap a.pluso-market-dollar-animate{ background:url(http://share.pluso.ru/img/pluso-like/square/big/market.png) -42px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-market-dollar-animate{animation: pluso-market-animate 3s linear infinite alternate;-webkit-animation: pluso-market-animate 3s linear infinite alternate;}.pluso-010010101001-04 .pluso-wrap a.pluso-market-bulb, .pluso-010010101001-04 .pluso-wrap a.pluso-market-bulb-animate{ background:url(http://share.pluso.ru/img/pluso-like/square/big/market.png) -84px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-market-bulb-animate{animation: pluso-market-animate 3s linear infinite alternate;-webkit-animation: pluso-market-animate 3s linear infinite alternate;}.pluso-010010101001-04 .pluso-wrap a.pluso-market-quest, .pluso-010010101001-04 .pluso-wrap a.pluso-market-quest-animate{ background:url(http://share.pluso.ru/img/pluso-like/square/big/market.png) -126px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-market-quest-animate{animation: pluso-market-animate 3s linear infinite alternate;-webkit-animation: pluso-market-animate 3s linear infinite alternate;}.pluso-010010101001-04 .pluso-wrap a.pluso-market-tag, .pluso-010010101001-04 .pluso-wrap a.pluso-market-tag-animate{ background:url(http://share.pluso.ru/img/pluso-like/square/big/market.png) -168px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-market-tag-animate{animation: pluso-market-animate 3s linear infinite alternate;-webkit-animation: pluso-market-animate 3s linear infinite alternate;}.pluso-box a b{ background-image:url(http://share.pluso.ru/img/pluso-like/round/small/04.png) }.pluso-box a.pluso-market b{ background:url(http://share.pluso.ru/img/pluso-like/round/small/market.png) -21px 0}.pluso-box a.pluso-vkontakte b{ background-position: -84px 0}.pluso-box a.pluso-odnoklassniki b{ background-position: -63px 0}.pluso-box a.pluso-facebook b{ background-position: -0px 0}.pluso-box a.pluso-twitter b{ background-position: -21px 0}.pluso-box a.pluso-google b{ background-position: -126px 0}.pluso-box a.pluso-moimir b{ background-position: -147px 0}.pluso-box a.pluso-pinterest b{ background-position: -105px 0}.pluso-box a.pluso-livejournal b{ background-position: -168px 0}.pluso-box a.pluso-tumblr b{ background-position: -42px 0}.pluso-box a.pluso-liveinternet b{ background-position: -189px 0}.pluso-box a.pluso-springpad b{ background-position: -210px 0}.pluso-box a.pluso-stumbleupon b{ background-position: -231px 0}.pluso-box a.pluso-myspace b{ background-position: -252px 0}.pluso-box a.pluso-formspring b{ background-position: -273px 0}.pluso-box a.pluso-blogger b{ background-position: -294px 0}.pluso-box a.pluso-digg b{ background-position: -315px 0}.pluso-box a.pluso-surfingbird b{ background-position: -336px 0}.pluso-box a.pluso-bobrdobr b{ background-position: -357px 0}.pluso-box a.pluso-readability b{ background-position: -378px 0}.pluso-box a.pluso-instapaper b{ background-position: -399px 0}.pluso-box a.pluso-evernote b{ background-position: -420px 0}.pluso-box a.pluso-delicious b{ background-position: -525px 0}.pluso-box a.pluso-vkrugu b{ background-position: -504px 0}.pluso-box a.pluso-pinme b{ background-position: -546px 0}.pluso-box a.pluso-yandex b{ background-position: -567px 0}.pluso-box a.pluso-yazakladki b{ background-position: -588px 0}.pluso-box a.pluso-moikrug b{ background-position: -609px 0}.pluso-box a.pluso-googlebookmark b{ background-position: -630px 0}.pluso-box a.pluso-yahoo b{ background-position: -651px 0}.pluso-box a.pluso-moemesto b{ background-position: -672px 0}.pluso-box a.pluso-memori b{ background-position: -693px 0}.pluso-box a.pluso-juick b{ background-position: -735px 0}.pluso-box a.pluso-linkedin b{ background-position: -756px 0}.pluso-box a.pluso-webdiscover b{ background-position: -798px 0}.pluso-box a.pluso-bookmark b{ background-position: -441px 0}.pluso-box a.pluso-email b{ background-position: -462px 0}.pluso-box a.pluso-print b{ background-position: -483px 0}.pluso-box a.pluso-webmoney b{ background-position: -924px 0}.pluso-box a.pluso-misterwong b{ background-position: -903px 0}.pluso-box a.pluso-friendfeed b{ background-position: -882px 0}.pluso-box a.pluso-market b{ background-position: --21px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-vkontakte{ background-position: -168px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-odnoklassniki{ background-position: -126px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-facebook{ background-position: -0px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-twitter{ background-position: -42px 0}.pluso-010010101001-04 .pluso-wrap a.pluso-google{ background-position: -252px 0}</style><script type="text/javascript" charset="UTF-8" async="" src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/process"></script><iframe src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/crossd_pluso_iframe.html" style="position: absolute; width: 0px; height: 0px; left: -9999px; border: none; top: 0px;"></iframe><iframe src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/partners.html" height="1px" width="1px" style="opacity: 0;"></iframe><iframe src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/saved_resource.html" style="padding: 0px; margin: 0px; width: 0px; height: 0px; position: absolute; left: -9999px; border: none; top: 0px;"></iframe><iframe src="./Раскрашиваем картинки с помощью HTML5 Canvas и JavaScript_files/saved_resource(1).html" style="padding: 0px; margin: 0px; width: 0px; height: 0px; position: absolute; left: -9999px; border: none; top: 0px;"></iframe></body></html>